<div class="col-md-12">
  <div class="ibox">
    <div class="ibox-title">
      <h5>Add Purchase Order</h5>
    </div>
    <form class="form-horizontal" ng-submit="submitForm()">
      <div class="ibox-content">
        <div class="sk-spinner sk-spinner-wave">
            <div class="sk-rect1"></div>
            <div class="sk-rect2"></div>
            <div class="sk-rect3"></div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group required">
              <label class="col-md-3 control-label">Branch</label>
              <div class="col-md-9">
                <select class="form-control" ng-disabled="freeze" ng-change="companyChange(formData.company_id)" data-placeholder-text-single="'Choose Branch'" chosen allow-single-deselect="false" ng-model="formData.company_id" ng-options="s.id as s.name for s in data.company">
                  <option value=""></option>
                </select>
              </div>
            </div>
            <div class="form-group required">
              <label class="col-md-3 control-label">Gudang</label>
              <div class="col-md-9">
                <select class="form-control" ng-disabled="freeze" data-placeholder-text-single="'Choose Warehouse'" chosen allow-single-deselect="false" ng-model="formData.warehouse_id" ng-options="s.id as s.name for s in data.warehouse">
                  <option value=""></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-3 control-label">Peminta</label>
              <div class="col-md-9">
                <input readonly type="text" class="form-control" ng-model='data.user_name'>
              </div>
            </div>
            <div class="form-group required">
              <label class="col-md-3 control-label">Tgl Pengajuan</label>
              <div class="col-md-9">
                <input type="text" ng-model="formData.date_request" datepick class="form-control">
              </div>
            </div>
            <div class="form-group required">
              <label class="col-md-3 control-label">Tgl Kebutuhan</label>
              <div class="col-md-9">
                <input type="text" ng-model="formData.date_needed" datepick class="form-control">
              </div>
            </div>
            <div class="form-group required">
              <label class="col-md-3 control-label">Supplier</label>
              <div class="col-md-9">
                <select class="form-control" data-placeholder-text-single="'Choose Supplier'" chosen allow-single-deselect="false" ng-model="formData.supplier_id" ng-options="s.id as s.name for s in data.supplier">
                  <option value=""></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-3 control-label">Keterangan</label>
              <div class="col-md-9">
                <input type="text" ng-model="formData.description" class="form-control">
              </div>
            </div>

          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label class="col-md-3 control-label">Item</label>
              <div class="col-md-9">
                <select class="form-control" id="item" data-placeholder-text-single="'Choose Item'" chosen allow-single-deselect="false" ng-model="detailData.item_id" ng-options="s.id as s.name group by s.category.name for s in data.item">
                  <option value=""></option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-3 control-label">Qty</label>
              <div class="col-md-4">
                <input type="text" ng-model="detailData.q`ty" jnumber2 only-num class="form-control">
              </div>
            </div>
            <div class="form-group">
              <label class="col-md-3 control-label"></label>
              <div class="col-md-3">
                <button type="button" ng-click="appendTable()" ng-disabled="!detailData.item_id || detailData.qty<1" class="btn btn-sm btn-primary">Add ke Tabel</button>
              </div>
            </div>
          </div>
          <hr>
          <div class="col-md-12">
            <table class="table display compact nowrap table-bordered" id="appendTable">
              <thead>
                <tr>
                  <th>Item</th>
                  <th style="width:20%;">Qty</th>
                  <th style="width:5%;"></th>
                </tr>
              </thead>
              <tbody>
                  <tr ng-if='formData.detail.length == 0'>
                      <td class="text-center" colspan='3'>Tidak ada data</td>
                  </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Total</th>
                  <th class='text-right'><%total|number%></th>
                  <th></th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <!-- <%formData%> -->
      </div>
      <div class="ibox-footer">
        <a ui-sref="inventory.purchase_request" class="btn btn-sm btn-warning">Kembali</a>
        <button type="submit" ng-disabled="total<1 || disBtn" ng-disabled="disBtn" class="btn btn-sm btn-primary">Save</button>
      </div>
    </form>
  </div>
</div>
